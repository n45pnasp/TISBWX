<!DOCTYPE html>
<html lang="id">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover" />
  <title>Flight Schedule Poster – WA Status</title>
  
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@700;800;900&display=swap" rel="stylesheet">

  <style>
    :root { --bg:#0a1425; --text:#fff; }
    * { box-sizing: border-box; }
    body {
      font-family: 'Montserrat', sans-serif;
      background: var(--bg); color: var(--text);
      margin:0; display:flex; min-height:100svh;
    }

    /* ===== Panel ===== */
    aside {
      width: 360px; background: #111a2d; padding: 16px; overflow-y: auto;
      border-right: 1px solid #1d2a44; transition: transform .25s ease, opacity .25s ease;
    }
    body.panel-collapsed aside { transform: translateX(-100%); opacity: 0; }

    label { display:block; margin-top:10px; font-weight:600; font-size:14px; color:#cbd5e1; }
    input[type="text"], input[type="file"], input[type="color"], input[type="range"], select {
      width:100%; margin-top:4px; padding:8px; border-radius:8px; border:none;
      background:#1e2d4a; color:#fff; font-family: inherit;
    }
    h2 { margin:0 0 12px; font-size:18px; color:#fff; }
    .btn {
      background:#0ea5e9; border:none; color:white; padding:10px 12px; border-radius:8px;
      cursor:pointer; margin-top:8px; width:100%; font-weight:700; transition: background 0.2s;
    }
    .btn:hover { background:#0284c7; }
    .btn.secondary { background:#334155; }
    .btn.secondary:hover { background:#475569; }
    
    .small { font-size:11px; color:#94a3b8; }
    .small-divider { border:0; border-top:1px solid #22314f; margin:12px 0; }
    .section-title { margin-top:18px; font-weight:800; color:#38bdf8; font-size:13px; letter-spacing: 0.5px; text-transform: uppercase; }

    /* Grid layout untuk baris editor */
    .airline-row { display:grid; grid-template-columns:repeat(4,1fr) 32px; gap:6px; margin-bottom:8px; background:#1e293b; padding:6px; border-radius:8px; }
    .airline-row input { background:#0f172a; font-size:12px; padding:6px; margin-top:0; }
    .airline-row button { background:#ef4444; border:none; color:white; font-weight:800; border-radius:4px; cursor:pointer; height: 100%; display:flex; align-items:center; justify-content:center; }
    .logo-controls { padding: 4px; background: #0f172a; border-radius: 4px; }
    
    .toggle { display:flex; align-items:center; gap:8px; margin-top:12px; }
    .toggle input { width:auto; margin:0; }

    /* Color Grid */
    .color-grid { display: grid; grid-template-columns: 50px 1fr; gap: 8px; align-items: center; }
    .color-grid input[type="color"] { height: 40px; padding: 2px; cursor: pointer; }
    .color-grid input[type="text"] { margin-top: 0; height: 40px; }

    /* ===== Main / Canvas ===== */
    main {
      flex:1; display:flex; align-items:center; justify-content:center; background:#0a1425;
      padding:16px; position:relative;
      background-image: radial-gradient(#1e293b 1px, transparent 1px);
      background-size: 20px 20px;
    }
    /* Rasio poster dikunci 1080:1920 */
    canvas{
      background:#222;
      border-radius:10px;
      box-shadow:0 8px 24px rgba(0,0,0,.5);
      touch-action:none;
      aspect-ratio: 1080 / 1920;                 
      height: min(calc(100svh - 32px), 980px);   
      width: auto;                                
    }

    /* Tombol toggle panel */
    #togglePanel {
      position: fixed; right: 16px; top: 16px; z-index: 50;
      background:#0ea5e9; color:#fff; border:none; border-radius:10px;
      padding:10px 12px; font-weight:800; cursor:pointer; box-shadow:0 6px 18px rgba(0,0,0,.35);
    }
    body.panel-collapsed #togglePanel { right: 16px; }
    #togglePanel span { margin-left:6px; font-weight:700; }

    /* ===== Responsif (HP/Tablet) ===== */
    @media (max-width: 900px) {
      body { flex-direction: column; }
      aside { width:100%; border-right:0; border-bottom:1px solid #1d2a44; max-height: 40vh; }
      body.panel-collapsed aside { display:none; }
      main { padding:12px; }
      canvas { width:100%; height:auto; max-height: calc(100svh - 120px); } 
      #togglePanel { top: 10px; right: 10px; padding: 8px 10px; font-size: 12px; }
    }

    /* ===== Desktop guard ===== */
    @media (min-width: 901px){
      canvas{
        height: min(calc(100svh - 64px), 1100px); 
        width: auto;                                
      }
    }
  </style>
</head>
<body>
  <button id="togglePanel">☰ <span>Sembunyikan Panel</span></button>

  <aside>
    <h2>Generator Poster Jadwal</h2>

    <label>Hari & Tanggal</label>
    <input id="dateText" type="text" value="MINGGU, 19 OKTOBER 2025" />

    <div id="dateBuilder" style="margin-top:6px;">
      <div style="display:grid;grid-template-columns:1fr 1fr 1fr auto;gap:6px;">
        <select id="selDay"   aria-label="Tanggal"></select>
        <select id="selMonth" aria-label="Bulan"></select>
        <select id="selYear"  aria-label="Tahun"></select>
        <button class="btn secondary" id="applyDateSmall" type="button" style="padding:8px 10px; margin-top:0;">Set</button>
      </div>
      <span class="small">Otomatis format: HARI, DD BULAN YYYY</span>
    </div>

    <label>Operating Hours (Bawah)</label>
    <input id="hoursText" type="text" value="Operating Hours 06.00 - 18.00 WIB" />

    <hr class="small-divider">

    <div style="display:grid; grid-template-columns: 1fr 1fr; gap:10px;">
        <div>
            <label style="margin-top:0">Size Tanggal</label>
            <input id="sizeDate" type="range" min="28" max="72" step="1" value="40">
            <span class="small" id="sizeDateVal">40</span>
        </div>
        <div>
            <label style="margin-top:0">Size Baris</label>
            <input id="sizeRow" type="range" min="24" max="56" step="1" value="30">
            <span class="small" id="sizeRowVal">30</span>
        </div>
    </div>
    
    <label>Size Operating Hours</label>
    <input id="sizeHours" type="range" min="24" max="56" step="1" value="35">
    
    <hr class="small-divider">

    <label>Warna Teks Global (Semua Teks)</label>
    <div class="color-grid">
        <input id="allTextColor" type="color" value="#ffffff" title="Pilih Warna">
        <input id="allTextHex" type="text" value="#ffffff" placeholder="#ffffff" title="Kode Hex">
    </div>

    <label>Warna Khusus Operating Hours</label>
    <input id="hoursColor" type="color" value="#ffffff" style="height:36px; padding:2px;">

    <div class="toggle">
      <input id="showIndicators" type="checkbox" checked>
      <label for="showIndicators" style="margin:0; cursor:pointer;">Tampilkan Garis Bantu</label>
    </div>

    <hr class="small-divider">

    <label>Background Flyer</label>
    <select id="bgSelect">
      <option value="bahan_flyer_bwx.png">Default (BWX 1)</option>
      <option value="bahan_flyer_bwx2.png">Versi 2</option>
      <option value="bahan_flyer_bwx3.png">Versi 3</option>
      <option value="bahan_flyer_bwx_tema1.png">Tema 1</option>
      <option value="bahan_flyer_bwx_tema2.png">Tema 2</option>
    </select>

    <label>Atau Upload Background Sendiri</label>
    <input type="file" id="bgInput" accept="image/*" />

    <div class="section-title">KEDATANGAN / ARRIVAL</div>
    <div id="arrivals" class="airline-list"></div>
    <button class="btn" id="addArrival">+ Tambah Baris Kedatangan</button>

    <div class="section-title">KEBERANGKATAN / DEPARTURE</div>
    <div id="departures" class="airline-list"></div>
    <button class="btn" id="addDeparture">+ Tambah Baris Keberangkatan</button>

    <hr class="small-divider">

    <div class="stack">
      <button class="btn" id="renderBtn">Render Ulang</button>
      <button class="btn secondary" id="savePng">Simpan PNG (HD)</button>
      <button class="btn secondary" id="savePdf">Simpan PDF</button>
    </div>

    <p class="small" style="margin-top:16px; opacity:0.6;">
      Tips: Shift + Drag logo untuk resize.<br>
      Tekan 'G' untuk garis bantu, 'R' untuk reset.
    </p>
  </aside>

  <main>
    <canvas id="poster" width="1080" height="1920"></canvas>
  </main>

  <script src="jadwal.js?v=15"></script>
</body>
</html>
